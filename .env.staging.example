# Raptor HR Staging Environment Configuration
#
# NOTE: The .env file is now auto-generated by CI/CD during deployment.
# You do NOT need to manually create this file on the staging server.
#
# Instead, configure the following in GitHub:
#
# 1. Create a "staging" environment:
#    Settings → Environments → New environment → "staging"
#
# 2. Add these SECRETS to the staging environment:
#    - STAGING_HOST          : Your staging server hostname/IP
#    - STAGING_USER          : SSH username for deployment
#    - STAGING_SSH_KEY       : Private SSH key for deployment
#    - STAGING_DB_PASSWORD   : PostgreSQL password (generate strong)
#    - STAGING_SECRET_KEY    : Django secret key (generate with: python3 -c "import secrets; print(secrets.token_urlsafe(50))")
#    - GOOGLE_OAUTH2_CLIENT_ID : Google OAuth client ID from console.cloud.google.com
#
# 3. Add these VARIABLES to the staging environment:
#    - STAGING_DOMAIN        : Your staging domain (e.g., staging.yourdomain.com)
#
# 4. Ensure VITE_GOOGLE_CLIENT_ID is set as a repository variable:
#    Settings → Secrets and variables → Actions → Variables
#    (This is used at Docker build time for the frontend)
#
# The CI/CD pipeline will automatically deploy to staging on merge to main.
#
# ===========================================
# Reference: What gets generated
# ===========================================
# Below is what the CI/CD pipeline generates - for reference only

# ===========================================
# Database Configuration
# ===========================================
# Generate with: openssl rand -base64 32 | tr -dc 'a-zA-Z0-9' | head -c 32
POSTGRES_DB=rhr
POSTGRES_USER=rhr
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_STRONG_PASSWORD

# ===========================================
# Django Configuration
# ===========================================
# Generate with: python3 -c "import secrets; print(secrets.token_urlsafe(50))"
SECRET_KEY=CHANGE_ME_GENERATE_LONG_RANDOM_STRING
DEBUG=false

# Update these with your actual staging domain
# IMPORTANT: Include 'localhost' for internal Docker health checks
ALLOWED_HOSTS=staging.yourdomain.com,localhost
CSRF_TRUSTED_ORIGINS=https://staging.yourdomain.com
CORS_ALLOWED_ORIGINS=https://staging.yourdomain.com

# ===========================================
# Container Images
# ===========================================
# These are automatically set by the CI/CD pipeline during deployment
# You can also set them manually for initial deployment
BACKEND_IMAGE=ghcr.io/accabog/rhr-backend:latest
FRONTEND_IMAGE=ghcr.io/accabog/rhr-frontend:latest

# ===========================================
# Optional: Email Configuration
# ===========================================
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_HOST_USER=noreply@yourdomain.com
# EMAIL_HOST_PASSWORD=your-email-password
# EMAIL_USE_TLS=true

# ===========================================
# Google OAuth Configuration
# ===========================================
GOOGLE_OAUTH2_CLIENT_ID=your-client-id.apps.googleusercontent.com

# ===========================================
# Optional: Sentry Error Tracking
# ===========================================
# SENTRY_DSN=https://your-sentry-dsn
